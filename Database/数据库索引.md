### 数据库索引
#### 什么是索引？索引的优缺点？
所谓索引，就是一种特殊的文件，包含数据表中所有记录的引用指针。它是一种数据结构，数据库索引是数据库管理系统中一个排序的数据结构，能够协助快速查询、更新数据库表中数据，同时使用 B 树及其变种 B+ 树来实现。用通俗的话来讲就是相当于我们日常字典中的目录，能够帮助我们快速找到想要的字或词。

- 基本原理

  将无序数据变为有序的查询，根据索引查询数据的步骤如下：
  1. 将创建了索引的列的内容进行排序；
  2. 对排序结果生成倒排表；
  3. 在倒排内容上拼上数据地址链；
  4. 在查询时，先拿到倒排表内容，然后取出数据地址链，从而取出具体数据。


- 优点
  - 第一点毫无疑问是**加快数据的检索速度**；
  - 第二点则是通过使用索引，能够在查询过程中使用优化隐藏器，**提高性能**。
- 缺点
  - 时间方面：虽然能够加快检索速度，但是创建和维护索引也需要时间，而且随着数据的增多，索引也需要动态维护，这样将会降低增/删/改的执行效率；
  - 空间方面：索引也是需要占据独立空间的，所以会随着数据的增多而占用更多的物理空间。

#### 索引的分类
##### 从数据结构角度
- 树索引 (O(log(n)))
- Hash 索引

##### 从物理存储角度

- 聚集索引（clustered index）
- 非聚集索引（non-clustered index）

##### 从逻辑角度

- 普通索引
- 唯一索引
- 主键索引
- 联合索引
- 全文索引

#### 数据库有哪些常见索引？
MySQL 索引的 5 种类型：主键索引、唯一索引、普通索引、全文索引、组合索引。通过给字段添加索引，可以提高数据的读取速度，提高项目的并发能力和抗压能力。
- 主键索引：主键是一种唯一性索引，必须指定为 PRIMARY KEY ，每个表只能有一个主键。
- 唯一索引：数据列不允许重复，允许为空，一个表允许多个列创建唯一索引。
- 普通索引：基本的索引类型，没有唯一性的限制，允许为空。
- 全文索引：全文索引的索引类型为 FULLTEXT ，全文索引可以在 ```varchar``` ```char``` ```text``` 类型的列上创建。
- 组合索引：多列值组成一个索引，专门用于组合搜索。

#### 索引的应用场景
1. where 查询条件尽可能将索引列设置为条件表达式
2. order by 查询时使用索引列
3. join on 条件设置为索引列
4. 索引覆盖：查询的列如果全部建立过索引，那么会直接查询索引而不会查询全部数据
5. 字段要独立出现，不要出现对字段运算：

  ```select * from user where id=20-1;```

  ```select * from user where id+1=20;```
6. 模糊查询时，尽量不要将 like 语句匹配表达式以通配符开头
7. 在使用状态值时不要创建对应索引
