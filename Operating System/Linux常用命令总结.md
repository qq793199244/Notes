### Linux 常用命令总结
全文命令分为以下6个模块：
- 常用系统工作命令
- 系统状态检测命令
- 工作目录切换命令
- 文本文件编辑命令
- 文件目录管理命令
- 打包压缩与搜索命令

Linux命令的基本格式，如下：
```命令名称 [命令参数] [命令对象]```

#### 一、常用系统工作命令
1、echo 命令
用于在终端输出字符串或变量提取后的值，格式为
```echo [字符串 | $变量]```

2、date 命令

date 命令中的参数以及作用
| 参数 | 作用           |
|:----:| -------------- |
|  %t  | 跳格[Tab 键]   |
|  %H  | 小时（00~23）  |
|  %I  | 小时（00~12）  |
|  %M  | 分钟（00~59）  |
|  %S  | 秒（00~59）    |
|  %j  | 今年中的第几天 |

按照默认格式查看当前系统时间：
```
wangyue@ubuntu:~$ date
2021年 08月 10日 星期二 11:31:34 CST
```

按照 “年-月-日 时-分-秒” 的格式查看当前系统时间的 date 命令如下所示：
```
wangyue@ubuntu:~$ date "+%Y-%m-%d %H:%M:%S"
2021-08-10 11:34:28
```

3、reboot 命令
用于重启系统，默认只能使用 root 管理员来重启。

4、poweroff 命令
用于关闭系统，默认只能使用 root 管理员来关闭。

5、wget 命令
用于在终端下载网络文件，格式为
```wget [参数] 下载地址```

wget 命令的参数以及作用
| 参数 | 作用 |
| ---- | ---- |
| -b   | 后台下载模式     |
| -P   | 下载到指定目录     |
| -t   | 最大尝试次数     |
| -c   | 断点续传     |
| -p   | 下载页面内所有资源，包括图片、视频等     |
| -r   | 递归下载     |

6、ps 命令
ps 命令是 Process Status 的缩写，用于查看系统中的进程状态，格式为
```ps [参数]```
常用用法：ps aux 或者 ps lax 或者 ps -ef

Linux 上进程有 5 种状态:
>  1. 运行(正在运行或在运行队列中等待)
>  2. 中断(休眠中, 受阻, 在等待某个条件的形成或接受到信号)
>  3. 不可中断(收到信号不唤醒和不可运行, 进程必须等待直到有中断发生)
>  4. 僵死(进程已终止, 但进程描述符存在, 直到父进程调用 wait4() 系统调用后释放)
>  5. 停止(进程收到 SIGSTOP , SIGSTP , SIGTIN , SIGTOU 信号后停止运行运行)

ps 工具标识进程的 5 种状态码:
>  D 不可中断 uninterruptible sleep (usually IO)
  R 运行 runnable (on run queue)
  S 中断 sleeping
  T 停止 traced or stopped
  Z 僵死 a defunct (”zombie”) process

7、top 命令
用于动态地监视进程活动与系统负载等信息，默认每 10 秒刷新一次。

8、pidof 命令
用于查询某个指定服务进程的 PID 值，格式为 ```pidof [参数] [服务名称]```。
每个进程的进程号码值（ PID ）是唯一的，因此可以通过 PID 来区分不同的进程。

9、kill 命令
用于终止某个指定 PID 的服务进程，格式为 ```kill [参数] [进程PID]```。

10、killall 命令
通常复杂软件的服务程序会有多个进程协同为用户提供服务，如果逐个去结束这些进程会比较麻烦，此时可以使用 killall 命令来批量结束摸个服务程序带来的全部进程。
下面以 httpd 服务程序为例，来结束其全部进程。
> wangyue@ubuntu:~$ pidof firefox
> 11204 11180 11130 11103 11072 11044 11024 10876 10824 10779 10722

> wangyue@ubuntu:~$ killall firefox

> wangyue@ubuntu:~$ pidof firefox

> wangyue@ubuntu:~$

#### 二、系统状态检测命令
1、ifconfig 命令
此命令被用于获取网络接口配置信息并对此进行修改。

2、uname 命令
用于查看系统内核与系统版本等信息，格式为 ```uname [-a]``` 。
在使用 uname 命令时，一般会固定搭配上 -a 参数来完整地查看当前系统的内核名称、主机名、内核发行版本、节点名、系统时间、硬件名称、硬件平台、处理器类型以及操作系统名称等信息。
> wangyue@ubuntu:~$ uname -a
Linux ubuntu 5.11.0-25-generic #27~20.04.1-Ubuntu SMP Tue Jul 13 17:41:23 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux

3、uptime 命令
用于查看系统的负载信息，它可以显示当前系统时间、系统已运行时间、启用终端数量以及平均负载值等信息。
平均负载值指的是系统在最近 1 分钟、 5 分钟、 15 分钟内的压力情况（加粗的信息部分）；负载值越低越好，尽量不要超过 1 ，在生产环境中不要超过 5 。
> wangyue@ubuntu:~$ uptime
 22:08:21 up 10:08,  1 user,  **load average: 0.11, 0.18, 0.17**

4、free 命令
用于显示当前系统中内存的使用量信息，格式为 ```free [-h]``` 。
> wangyue@ubuntu:~$ free -h

|    | 总计 | 已用 | 空闲 | 共享 | 缓冲/缓存 | 可用 |
| --- | ---- | ---- | ---- | ---- | --------- | ---- |
| 内存： | 3.8Gi | 1.4Gi | 1.6Gi | 3.0Mi | 855Mi | 2.2Gi |
|  交换：    |  1.6Gi   |  1.0Mi  |  1.6Gi |      |           |      |


5、who 命令
用于查看当前登入主机的用户终端信息，格式为 ```who [参数]``` 。
> wangyue@ubuntu:~$ who
wangyue  :0           2021-08-10 12:00 (:0)

6、last 命令
用于查看所有系统的登录记录，格式为 ```last [参数]``` 。
由于这些信息都是以日志文件形式保存在系统中，因此黑客可以很容易地对内容进行篡改。

7、history 命令
用于显示历史执行过的命令，默认 1000 条记录，格式为 ```history [-c]``` 。
-c 参数会清空所有的命令历史记录。

#### 三、工作目录切换命令
1、pwd 命令
用于显示用户当前所处的工作目录，```pwd [选项]```
> wangyue@ubuntu:~$ pwd
/home/wangyue

2、cd 命令
用于切换工作路径，```cd [目录名称]```

3、ls 命令
用于显示目录中的文件信息，```ls [选项] [文件]```
-a 参数看到全部文件，包括隐藏文件。
-l 参数可以查看文件的属性、大小等详细信息。
将这两个参数整合之后，再执行 ls 命令即可查看当前目录中的所有文件，并输出这些文件的属性信息。

#### 四、文本文件编辑命令
Linux 系统中 “一切都是文件”，而对服务程序进行配置自然也就是编辑程序的配置文件。

1、cat 命令
用于查看纯文本文件（内容较少的），格式为 ```cat [选项] 文件``` 。
-n 参数显示行号

2、more 命令
用于查看纯文本文件（内容较多的），格式为 ```more [选项] 文件``` 。

3、head 命令
用于查看纯文本文档的前 N 行，格式为 ```head [选项] [文件]``` 。
如查看前五行：
> wangyue@ubuntu:~/pycharm/pycharm-2020.3.2$ head -n 5 product-info.json

4、tail 命令
用于查看纯文本文档的后 N 行或持续刷新内容，格式为 ```tail [选项] [文件]``` 。
查看后 10 行：```tail -n 10 文件名```
持续刷新文件内容，实时查看最新日志文件：```tail -f 文件名```

5、tr 命令
用于替换文本文件中的字符，格式为 ```tr [原始字符] [目标字符]``` 。
常用 ```cat``` 命令读取待处理的文本，然后通过管道符 ```|``` 把这些文本内容传递给 ```tr``` 命令进程替换操作。
例如，将某个文件中的英文全部替换为大写：
```
cat 文件名 | tr [a-z] [A-Z]
```

6、wc 命令
用于统计指定文本的行数、字数、字节数，格式为 ```wc [参数] 文本``` 。
| 参数 | 作用         |
| ---- | ------------ |
| -l   | 只显示行数   |
| -w   | 只显示单词数 |
| -c   | 只显示字节数 |

在 Linux 系统中，passwd 是用于保存系统账户信息的文件，要统计当前系统中有多少个用户，可以使用：
> wangyue@ubuntu:~/pycharm/pycharm-2020.3.2$ wc -l /etc/passwd
48 /etc/passwd

7、stat 命令
用于查看文件的具体存储信息和时间等信息，格式为 ```stat 文件名``` 。
> wangyue@ubuntu:~/pycharm/pycharm-2020.3.2$ stat product-info.json
  文件：product-info.json
  大小：440       	块：8          IO 块：4096   普通文件
设备：805h/2053d	Inode：1981123     硬链接：1
权限：(0644/-rw-r--r--)  Uid：( 1000/ wangyue)   Gid：( 1000/ wangyue)
最近访问：2021-08-11 02:09:06.538475676 +0800
最近更改：2020-12-31 00:40:42.000000000 +0800
最近改动：2021-01-16 16:40:45.038543916 +0800
创建时间：-

8、diff 命令
用于比较多个文本文件的差异，格式为 ```diff [参数] 文件名``` 。
--brief 参数确认两个文件是否不同
-c 参数详细比较出多个文件的差异之处

#### 五、文件目录管理命令
1、touch 命令
用于创建空白文件或设置文件的时间，格式为 ```touch [选项] [文件]``` 。
| 参数 | 作用 |
| ---- | ---- |
| -a   | 仅修改“读取时间” atime     |
| -m   | 仅修改“修改时间” mtime     |
| -d   | 同时修改 atime 和 mtime     |

2、mkdir 命令
用于创建空白目录，格式为 ```mkdir [选项] 目录名``` 。
-p 参数递归创建出具有嵌套叠层关系的文件目录。

3、cp 命令
用于复制文件或目录，格式为 ```cp [选项] 源文件 目标文件``` 。
在 Linux 中，复制操作具体分为三种情况：
  - 如果目标文件是目录，则会把源文件复制到该目录中；
  - 如果目标文件也是普通文件，则会询问是否要覆盖它；
  - 如果目标文件不存在，则执行正常的复制操作。

| 参数 | 作用                    |
| ---- | ----------------------- |
| -p   | 保留原始文件的属性  |
| -d   | 若对象为链接文件，则保留该链接文件的属性 |
| -r   | 递归持续复制，用于目录 |
| -i   |  若目标文件存在，则询问是否覆盖   |
| -a     | 相当于 -pdr |

4、mv 命令
用于剪切文件或将文件重命名，格式为 ```mv [选项] 文件``` 。

5、rm 命令
用于删除文件或目录，格式为 ```rm [选项] 源文件 目标文件``` 。
-f 参数，强制删除
-r 参数，删除目录时

6、dd 命令
用于按照指定大小和个数的数据块来复制文件或转换文件，格式为 ```dd [参数]``` 。
| 参数  | 作用                 |
| ----- | -------------------- |
| if    | 输入的文件名称       |
| of    | 输出的文件名称       |
| bs    | 设置每个“块”的大小   |
| count | 设置要复制“块”的个数 |

如用 dd 命令从 /dev/zero 设备文件中取出一个大小为 560MB 的数据块，然后保存成名为 560_file 的文件。
```
dd if=/dev/zero of=560_file count=1 bs=560M
```

7、file 命令
用于查看文件的类型，格式为 ```file 文件名``` 。

#### 六、打包压缩与搜索命令
1、tar 命令
用于对文件进行打包压缩或解压，格式为 ```tar [选项] [文件]``` 。
| 参数 | 作用                 |
| ---- | -------------------- |
| -c   | 创建压缩文件       |
| -x   | 解开压缩文件       |
| -t   | 查看压缩包内有哪些文件   |
| -z   | 用 Gzip 压缩或解压 |
| -j   | 用 bzip2 压缩或解压  |
| -v   | 显示压缩或解压的过程 |
| -f   | 目标文件名，必须放到参数的最后一位    |
| -p   | 保留原始的权限与属性  |
| -P   | 使用绝对路径来压缩   |
| -C   |  指定解压到的目录  |

2、grep 命令
用于在文本中执行关键词搜索，并显示匹配的结果，格式为 ```grep [选项] [文件]``` 。
| 参数 | 作用                 |
| ---- | -------------------- |
| -b   | 将可执行文件当做文本文件来搜索       |
| -c   | 进现实找到的行数       |
| -i   | 忽略大小写   |
| -n   | 显示行号（常用） |
| -v   | 反向选择——仅列出没有关键词的行（常用）  |

3、find 命令
用于按照指定条件来查找文件，```find [查找路径] 找寻条件 操作``` 。
有很多参数，其中 -exec 参数用于把 find 命令搜索到的结果交由紧随其后的命令做进一步处理，类似管道符。
